<!DOCTYPE html>
<html>
    <head>
        <style>
            /* Youtube fullpage */
            .ytLandscape {
                position: relative;
                padding-bottom: 56.25%;
            }
            .ytLandscape img {
                position: absolute;
                width: 100%;
                height: 89%;
                left: 0;
                right: 0;
            }
        </style>
        <script>
            function getRndInteger(min, max) {
              //return Math.floor(Math.random() * (max - min + 1) ) + min;
              return Math.ceil(Math.exp(Math.random()*(Math.log(max)-Math.log(min)))*min);
            }

            function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            window.addEventListener("keydown", (e) => {
                //alert(e.key);
                var t = screen.availHeight/5, l = screen.availWidth/5, incT = 100, incL = 150;
                var w = screen.availWidth/3, h = screen.availHeight/3;

                (async() => {
                for(i=0;i<50;i++){
                    if(t <= 0 || t >= screen.availHeight || i > 10){
                        incT = -1 * incT;
                        incL = -1 * incL;
                    }

                    if(i<5){
                        t = getRndInteger(100, 500);
                        l = getRndInteger(300, 900);
                    }else if(i<10){
                        t = getRndInteger(screen.availHeight/4, screen.availHeight-h);
                        l = getRndInteger(screen.availWidth/2.5, screen.availWidth-w);
                    }else if(i<15){
                        t = getRndInteger(10, screen.availHeight/2);
                        l = getRndInteger(10, screen.availWidth/2);
                    }else if(i<20){
                        t = getRndInteger(10, screen.availHeight/3);
                        l = getRndInteger(screen.availWidth/2, screen.availWidth-w);
                    }else{
                        t = getRndInteger(screen.availHeight/3, screen.availHeight-h);
                        l = getRndInteger(10, screen.availWidth/2);
                    }

                    t = t + incT;
                    l = l + incL;
                    var movieNum = i%6+1;
                    //movieSrc = "resource/movie" + movieNum + ".gif";
                    //console.log(t, l) ;
                    const win = window.open("pop" + movieNum + ".html", "popup"+i, "width="+w+",height="+h+",top="+t+",left="+l+"resizable=no,scrollbar=no,status=no,menubar=no,toolbar=no,location=no");
                    //win.document.getElementById("movie").src = movieSrc;

                    if(i<4)
                        await sleep(200);
                    else if(i<10)
                        await sleep(100);
                    else if(i<15)
                        await sleep(50);
                    else if(i<20)
                        await sleep(50);
                    else
                        await sleep(50);
                }
                })();
            });

        </script>
    </head>
    <body>
        <div class="ytLandscape">
            <img src="resource/movie1.gif"/>
        </div>
    </body>
</html>
